### 单一职责原则

> Single Responsibility Principle，缩写SRP，意为一个类或者模块只负责完成一个职责或者功能。

**如何理解单一职责原则（SRP）？**

这个原则描述的对象有两个，即类和模块。定义也很简单，即不要设计大而全的类，要设计粒度小、功能单一的类。

**如何判定一个类的职责是否够单一？**

不同的应用场景、不同阶段的需求背景下，对同一个类的职责是否单一的判定，可能都是不一样的。在某种应用场景或者当下的需求背景下，一个类的设计可能已经满足单一职责原则了，但如果换个应用场景或着在未来的某个需求背景下，可能就不满足了，需要继续拆分成粒度更细的类。

例如一个UserInfo类，单从用户角度来看，可能满足单一职责的设计；但若需要支持物流，则需将地址相关信息抽离；若需要支持统一账户，则需要将身份认证相关的信息抽离。

一般可先写一个粗粒度的类，满足业务需求，随着业务的发展，如果粗粒度的类越来越庞大，代码越来越多，这个时候就可以考虑拆分，这就是**持续重构**。下面有几条判断原则可以参考：

- 类中的代码行数、函数或属性过多，影响了代码的**可读性**和可维护性
- 类依赖的其他类过多，或依赖类的其他类过多，不符合高内聚、低耦合的设计思想
- 私有方法过多，就需考虑能否将私有方法独立到新的类中，设置为public方法，供更多的类调用，提高代码的复用性
- 给类起名字比较难，很难用业务名词概括，或者只能用一些笼统的Manager、Context，这一般说明类的职责定义不够清晰
- 类中大量方法都是集中操作类的某几个属性，这时可以考虑拆分

**类的职责是否设计得越单一越好？**

单一职责原则通过避免设计大而全的类，避免将不相关的功能耦合在一起，来提高类的内聚性。但是，如果拆分得过细，实际上会适得其反，反倒会降低内聚性，也会影响代码的可维护性。